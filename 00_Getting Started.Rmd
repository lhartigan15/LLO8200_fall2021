---
title: "Data Science - Getting Started"
subtitle: "Lecture Notes"
output:
    html_document: 
        theme: cerulean
    pdf_document: default
---

Note: If I want to knit to pdf instead of html, I move line 7 in the header above to line 5. Whichever one is first (pdf or html), that's the format .Rmd will knit to. I can also always use the dropdown Knit menu to knit. 

You'll be off to a great start if you go ahead and install the packages we'll be using this term. We may always add more (and you will undoubtedly end up installing more for your group projects), but why not get ahead at the beginning? Recall that, in order to install packages, you'll need to use the `install.packages` function. If you want to install more than one packages at once, you can pass them in a vector together. Like so:

`install.packages(c("tidyverse", "haven", "readxl"))`

Remember, it's always recommended to put installation code in the console (NOT in your .Rmd script file) because we don't want R to install the package over and over. It wastes time AND can interfere with knitting. 

Here is the list of packages you'll definitely want to install for this semester:
-caret
-flexclust
-forcats
-ggpubr
-glmnet
-gridExtra
-knitr
-LICORS
-lubridate
-modelr
-plotly
-probably
-readxl
-rvest
-stats
-tidycensus
-tidymodels
-tidyverse
-tigris
-yardstick

But what if you don't want to spend time checking to see if these packages are already installed on your system? Wouldn't it be great if you could have R check whether or not something was installed and then, if not, install it? Well - it's your lucky day! There's an R package for that! It's called `pacman`. First, install the pacman package (do this in your console). Then you can use the `p_load` function. This function checks to see if a package is installed and, if it's not, it installs it for you. I went ahead and put this in a code chunk, but you could also run it in your console. Pacman doesn't install things that are already installed, so it won't interfere with knitting (like the `install.packages` function can). 
```{r}
pacman::p_load(caret,flexclust,forcats,ggpubr,glmnet,gridExtra,knitr, 
               LICORS,lubridate,modelr,plotly,probably,readxl,rvest,
               stats,tidycensus,tidymodels,tidyverse,tigris,yardstick)
```

Once you have packages installed and you know what you're going to need for a given R session, you can go ahead and load them using the library function. Remember, the order you load them in matters. Pay attention to package conflicts. Go ahead and load the following three packages (in this order): `forcats`, `knitr`, `tidyverse`. Did you have any package conflicts? 
```{r}
library(forcats)
library(knitr)
library(ggpubr)
library(tidyverse)
```

Here's a great resources for dealing with conflicting functions in packages. [Dealing with Package Conflicts](https://www.tidyverse.org/blog/2018/06/conflicted/)

Now, let's load a dataset. Most of the datasets we'll be using this term are saved on the course website (unless we're specifically practicing pulling it from the web). For this exercise, we're going to load the college "sc" dataset. 
```{r}
## Load in the data - IF the datafile is saved in my working directory, this works
load("college.Rdata")

# How do I know what my working directory is? I can use the function getwd() to figure that out (do this in the console). I can also use dropdowns (which Lacey will demonstrate now). 
```

If the data is saved somewhere other than my working directory, I need to tell R where it is. I can do this a couple of ways. I could change my working directory using the setwd() function. Again, I typically set this outside of a code chunk (in the console). The working directory is the location you want R to look for your dataset. On my system, for this session, that is:
"C:/Users/lacey/Google Drive/Teaching/Vanderbilt/LLO 8200 - Data Science/Async .Rmd files"

I'm going to demonstrate resetting the working directory using setwd() in the console right now. 

You can also set the working directory using dropdowns; I'll demonstrate that now as well.

Here's another foolproof way to read in the data: using a file path. This is particularly great if you're going to want to read in multiple data files from different folders. 
```{r}
load("G:/My Drive/Teaching/Vanderbilt/LLO 8200 - Data Science/Async .Rmd files/college.Rdata")
```

When you use the `load` function to import an R dataset, R brings in the name from when the file was saved (this was determined by whoever saved it). Let's say we want to rename it. 
```{r}
#I want to rename the dataset as collegesc
collegesc<-as.data.frame(sc)
```

Let's plot a univariate graphic for one of the variables in our dataset. I'm interested in the distribution of admission rates across the 125 colleges in our dataset. We're going to use ggplot this term A LOT. Let's start now. 
```{r}
admplot<-ggplot(collegesc, aes(x=adm_rate)) +  
    geom_density(color="black", fill="gold") +
    xlab("Admission Rate")

admplot2 <- ggplot(collegesc, aes(x=adm_rate)) 
admplot2 <- admplot2 + geom_density(color="blue", fill="lightblue") 
admplot2 <- admplot2 + xlab("Admission Rate")

admplot
admplot2

both<-ggarrange(admplot, admplot2); both
```


